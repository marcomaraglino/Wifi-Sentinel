version: '3.8'

services:
  sentinel:
    build: .
    container_name: wifi-sentinel-app
    network_mode: "host" # questa modalit√† permette l'accesso diretto alle interfacce di rete (wlan0, etc.)
    
    # privileged: true serve su Linux per dare accesso completo all'hardware
    privileged: true
    
    # Riavvia il container se crasha
    restart: always

    
    volumes:
      # Collega il "telefono" (D-Bus) del container a quello di Ubuntu
      - /var/run/dbus/system_bus_socket:/var/run/dbus/system_bus_socket
      # Mappa la cartella 'data' del tuo PC dentro '/app/data' del container
      - ./data:/app/data

    environment:
      - TELEGRAM_TOKEN=8455359017:AAGB3V0mePlQ-jU7GcMZ0aBd4e8RyTFtu5g
      - SCAN_INTERVAL=5
      - USE_MOCK=false